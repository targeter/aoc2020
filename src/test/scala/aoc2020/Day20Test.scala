package aoc2020

import org.scalatest.OptionValues
import org.scalatest.funsuite.AnyFunSuite
import org.scalatest.matchers.must.Matchers
import shared.ops._

class Day20Test extends AnyFunSuite with Matchers with OptionValues {

  import Day20._

  val example = """Tile 2311:
                  |..##.#..#.
                  |##..#.....
                  |#...##..#.
                  |####.#...#
                  |##.##.###.
                  |##...#.###
                  |.#.#.#..##
                  |..#....#..
                  |###...#.#.
                  |..###..###
                  |
                  |Tile 1951:
                  |#.##...##.
                  |#.####...#
                  |.....#..##
                  |#...######
                  |.##.#....#
                  |.###.#####
                  |###.##.##.
                  |.###....#.
                  |..#.#..#.#
                  |#...##.#..
                  |
                  |Tile 1171:
                  |####...##.
                  |#..##.#..#
                  |##.#..#.#.
                  |.###.####.
                  |..###.####
                  |.##....##.
                  |.#...####.
                  |#.##.####.
                  |####..#...
                  |.....##...
                  |
                  |Tile 1427:
                  |###.##.#..
                  |.#..#.##..
                  |.#.##.#..#
                  |#.#.#.##.#
                  |....#...##
                  |...##..##.
                  |...#.#####
                  |.#.####.#.
                  |..#..###.#
                  |..##.#..#.
                  |
                  |Tile 1489:
                  |##.#.#....
                  |..##...#..
                  |.##..##...
                  |..#...#...
                  |#####...#.
                  |#..#.#.#.#
                  |...#.#.#..
                  |##.#...##.
                  |..##.##.##
                  |###.##.#..
                  |
                  |Tile 2473:
                  |#....####.
                  |#..#.##...
                  |#.##..#...
                  |######.#.#
                  |.#...#.#.#
                  |.#########
                  |.###.#..#.
                  |########.#
                  |##...##.#.
                  |..###.#.#.
                  |
                  |Tile 2971:
                  |..#.#....#
                  |#...###...
                  |#.#.###...
                  |##.##..#..
                  |.#####..##
                  |.#..####.#
                  |#..#.#..#.
                  |..####.###
                  |..#.#.###.
                  |...#.#.#.#
                  |
                  |Tile 2729:
                  |...#.#.#.#
                  |####.#....
                  |..#.#.....
                  |....#..#.#
                  |.##..##.#.
                  |.#.####...
                  |####.#.#..
                  |##.####...
                  |##..#.##..
                  |#.##...##.
                  |
                  |Tile 3079:
                  |#.#.#####.
                  |.#..######
                  |..#.......
                  |######....
                  |####.#..#.
                  |.#...#.##.
                  |#.#####.##
                  |..#.###...
                  |..#.......
                  |..#.###...""".stripMargin

  test("step1") {
    findCorners(parse(example)).product must be(20899048083289L)

  }

}
